---
pi_hole:
  - host: !secret pihole_ip
    name: pihole_primary
    api_key: !secret pihole_primary_api_key
  - host: !secret zigbee2mqtt_ip
    name: pihole_secondary
    api_key: !secret pihole_secondary_api_key

switch:
  - platform: command_line
    switches:
      pihole_switch:
        # "curl -X GET 'http://192.168.10.11/admin/api.php?enable&auth=xxx'"
        command_on: !secret pihole_switch_on
        # "curl -X GET 'http://192.168.10.11/admin/api.php?disable=3600&auth=xxx'"
        command_off: !secret pihole_switch_off
        # "curl -X GET 'http://192.168.10.11/admin/api.php?status'| grep enabled"
        command_state: !secret pihole_switch_state
        value_template: "{{ value_json.status == 'enabled' }}"
